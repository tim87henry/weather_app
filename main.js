(()=>{"use strict";const e={isCelsius:!0},t=function(t){document.querySelector("#date").textContent=t.date,document.querySelector("#time").textContent=t.time,function(e,t){const n=document.querySelector("#icon"),r=document.body,o=parseInt(e.split(":")[0]),i="linear-gradient(rgb(190, 192, 235),rgb(127, 134, 233))";let u=i,a="clear_day.svg";o<=5||o>=19?(u="linear-gradient(rgb(173, 173, 162),rgb(151, 151, 142))",a="clear_night.svg"):u="linear-gradient(rgb(204, 203, 146),rgb(206, 204, 121))","Rain"===t||"Drizzle"===t||"Thunderstorm"===t?a="rain.svg":"Mist"===t?a="fog.svg":"Snow"===t?a="snow.svg":"Clouds"===t&&(a=o<=5||o>=19?"cloudy_night.svg":"cloudy_day.svg"),"Rain"!==t&&"Drizzle"!==t&&"Thunderstorm"!==t&&"Mist"!==t&&"Snow"!==t||o>5&&o<19&&(u=i),n.innerHTML='<img src="../icons/'+a+'" id="weather_icon">',r.style.backgroundImage=u}(t.time,t.summary);let n=t.temp,r="C";e.isCelsius||(n=Math.round(1.8*n+32),r="F"),document.querySelector("#degree").textContent=n+" "+r,document.querySelector("#summary").textContent=t.summary,document.querySelector("#humidity").textContent="Humidity "+t.humidity,document.querySelector("#place").textContent=t.place},n=function(e){(async function(e){let t=await fetch("http://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=2d62a90b58e587895e43e52c309887b6",{mode:"cors"});return await t.json()})(e).then((function(e){let n=e.name,r=Math.round(e.main.temp),o=e.main.humidity,i=e.weather[0].main,u=new Date,a=u.getTime()+6e4*u.getTimezoneOffset(),c=new Date(a+1e3*e.timezone),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getDay()],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()]+" "+c.getDate(),s=c.getHours(),l=c.getMinutes();s=1===s.toString().length?"0"+s:s,l=1===l.toString().length?"0"+l:l,t({temp:r,humidity:o,summary:i,day:d,date:m,time:s+":"+l,place:n})})).catch((function(e){document.querySelector("#icon").textContent="Please enter a valid city",document.querySelector("#degree").textContent="",document.querySelector("#summary").textContent="",document.querySelector("#humidity").textContent="",document.querySelector("#place").textContent=""}))},r=document.querySelector("#city"),o=document.querySelector("#search_button"),i=document.getElementsByClassName("unit");o.addEventListener("click",(()=>{n(r.value)})),r.addEventListener("keypress",(e=>{"Enter"===e.code&&n(r.value)}));for(let t=0;t<i.length;t++)i[t].addEventListener("click",(o=>{e.isCelsius=0===t,n(r.value)}));window.addEventListener("load",(function(){n("Rome")}))})();